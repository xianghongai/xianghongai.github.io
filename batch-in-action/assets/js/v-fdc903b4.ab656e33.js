(self.webpackChunkfeatures=self.webpackChunkfeatures||[]).push([[65],{7765:(s,a,n)=>{"use strict";n.r(a),n.d(a,{data:()=>e});const e={key:"v-fdc903b4",path:"/multiple-times-rename-files.html",title:"多轮修改文件名",lang:"zh-CN",frontmatter:{},excerpt:'<h1 id="多轮修改文件名" tabindex="-1"><a class="header-anchor" href="#多轮修改文件名" aria-hidden="true">#</a> 多轮修改文件名</h1>\n<p>多轮批量修改目录下文件名，更改文件名大写为小写。</p>\n',headers:[],filePathRelative:"multiple-times-rename-files.md",git:{updatedTime:null,contributors:[]}}},1088:(s,a,n)=>{"use strict";n.r(a),n.d(a,{default:()=>p});const e=(0,n(6252).uE)('<h1 id="多轮修改文件名" tabindex="-1"><a class="header-anchor" href="#多轮修改文件名" aria-hidden="true">#</a> 多轮修改文件名</h1><p>多轮批量修改目录下文件名，更改文件名大写为小写。</p><p>保存代码到 <code>替换文件名[便捷拖入].bat</code>，将要改动的目录拖放在本bat文件图标上，按提示执行。</p><div class="language-batch ext-batch line-numbers-mode"><pre class="language-batch"><code><span class="token operator">@</span><span class="token command"><span class="token keyword">echo</span> off</span>\n<span class="token operator">@</span><span class="token command"><span class="token keyword">REM</span> @Author: xianghongai@gmail.com</span>\n<span class="token command"><span class="token keyword">title</span> 批量替换文件名</span>\n<span class="token label property">:GTCONTINUE</span>\n<span class="token command"><span class="token keyword">set</span> <span class="token parameter attr-name">/a</span> <span class="token variable">count</span><span class="token operator">=</span><span class="token variable">%count%</span><span class="token operator">+</span><span class="token number">1</span></span>\n<span class="token command"><span class="token keyword">set</span> <span class="token parameter attr-name">/p</span> <span class="token variable">oldStr</span><span class="token operator">=</span>原字符:</span>\n<span class="token command"><span class="token keyword">set</span> <span class="token parameter attr-name">/p</span> <span class="token variable">newStr</span><span class="token operator">=</span>替换成:</span>\n<span class="token command"><span class="token keyword">for</span> <span class="token parameter attr-name">/f</span> <span class="token string">&quot;tokens=*&quot;</span> <span class="token variable">%%a</span> <span class="token keyword">in</span> <span class="token punctuation">(</span><span class="token punctuation">&#39;</span>dir <span class="token string">&quot;%~1&quot;</span> <span class="token parameter attr-name">/a</span> /b<span class="token punctuation">&#39;</span><span class="token punctuation">)</span> <span class="token keyword">do</span></span> <span class="token punctuation">(</span>\n<span class="token command"><span class="token keyword">SETLOCAL</span> ENABLEDELAYEDEXPANSION</span>\n<span class="token command"><span class="token keyword">set</span> <span class="token string">&quot;newFileName=%%~na&quot;</span></span>\n<span class="token command"><span class="token keyword">set</span> <span class="token string">&quot;newFileName=!newFileName:%oldStr%=%newStr%!&quot;</span></span>\n<span class="token command"><span class="token keyword">ren</span> <span class="token string">&quot;%~1\\%%~nxa&quot;</span> <span class="token string">&quot;!newFileName!%%~xa&quot;</span></span>\n<span class="token command"><span class="token keyword">ENDLOCAL</span></span>\n<span class="token punctuation">)</span>\n<span class="token command"><span class="token keyword">echo</span>.</span>\n<span class="token command"><span class="token keyword">echo</span> 完成 <span class="token variable">%count%</span> 轮</span>\n<span class="token command"><span class="token keyword">set</span> <span class="token variable">oldStr</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span></span>\n<span class="token command"><span class="token keyword">set</span> <span class="token variable">newStr</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span></span>\n<span class="token command"><span class="token keyword">echo</span>.</span>\n<span class="token command"><span class="token keyword">goto</span> <span class="token label property">:GTCONTINUE</span></span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><hr><div class="language-batch ext-batch line-numbers-mode"><pre class="language-batch"><code><span class="token operator">@</span><span class="token command"><span class="token keyword">echo</span> off</span>\n<span class="token command"><span class="token keyword">title</span> 更改文件名大写为小写</span>\n<span class="token comment">::本代码原思路由yyykkkyyyy提供，依梦琴瑶修改并添加子目录的文件处理</span>\n<span class="token command"><span class="token keyword">set</span> <span class="token variable">dir</span><span class="token operator">=</span><span class="token variable">%~dp0</span></span><span class="token operator">&amp;</span><span class="token command"><span class="token keyword">call</span><span class="token label property">:cdto</span></span>\n<span class="token command"><span class="token keyword">for</span> <span class="token parameter attr-name">/f</span> <span class="token string">&quot;delims=&quot;</span> <span class="token variable">%%i</span> <span class="token keyword">in</span> <span class="token punctuation">(</span><span class="token punctuation">&#39;</span>dir/s/b/ad<span class="token punctuation">&#39;</span><span class="token punctuation">)</span> <span class="token keyword">do</span></span> <span class="token command"><span class="token keyword">set</span> <span class="token variable">dir</span><span class="token operator">=</span><span class="token variable">%%i</span></span><span class="token operator">&amp;</span><span class="token command"><span class="token keyword">call</span><span class="token label property">:cdto</span></span>\n<span class="token command"><span class="token keyword">pause</span></span>\n<span class="token command"><span class="token keyword">exit</span><span class="token parameter attr-name">/b</span></span>\n<span class="token label property">:cdto</span>\n<span class="token command"><span class="token keyword">cd</span> <span class="token parameter attr-name">/d</span> <span class="token variable">%dir%</span></span>\n<span class="token command"><span class="token keyword">for</span> <span class="token parameter attr-name">/f</span> <span class="token string">&quot;delims=&quot;</span> <span class="token variable">%%i</span> <span class="token keyword">in</span> <span class="token punctuation">(</span><span class="token punctuation">&#39;</span>dir/b/a<span class="token parameter attr-name">-d</span>/l<span class="token punctuation">&#39;</span><span class="token punctuation">)</span> <span class="token keyword">do</span></span> <span class="token command"><span class="token keyword">ren</span> <span class="token string">&quot;%%i&quot;</span> <span class="token string">&quot;%%i&quot;</span></span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><hr><p>更新日志：</p><ul><li>2017-05-20</li></ul>',9),p={render:function(s,a){return e}}}}]);