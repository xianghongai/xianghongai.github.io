(self.webpackChunkfeatures=self.webpackChunkfeatures||[]).push([[27],{3936:(s,n,a)=>{"use strict";a.r(n),a.d(n,{data:()=>e});const e={key:"v-323b22dc",path:"/delims.html",title:"路径/时间/字符切分等操作",lang:"zh-CN",frontmatter:{},excerpt:'<h1 id="路径-时间-字符切分等操作" tabindex="-1"><a class="header-anchor" href="#路径-时间-字符切分等操作" aria-hidden="true">#</a> 路径/时间/字符切分等操作</h1>\n<p>本篇熟悉操作文件路径、时间，温习字符切分 (Delims)。</p>\n',headers:[],filePathRelative:"delims.md",git:{updatedTime:null,contributors:[]}}},5321:(s,n,a)=>{"use strict";a.r(n),a.d(n,{default:()=>p});const e=(0,a(6252).uE)('<h1 id="路径-时间-字符切分等操作" tabindex="-1"><a class="header-anchor" href="#路径-时间-字符切分等操作" aria-hidden="true">#</a> 路径/时间/字符切分等操作</h1><p>本篇熟悉操作文件路径、时间，温习字符切分 (Delims)。</p><p>路径</p><div class="language-batch ext-batch line-numbers-mode"><pre class="language-batch"><code><span class="token operator">@</span><span class="token command"><span class="token keyword">echo</span> off</span>\n<span class="token operator">@</span><span class="token command"><span class="token keyword">REM</span> @Author: xianghongai@gmail.com</span>\n\n<span class="token label property">:GTCONTINUE</span>\n<span class="token operator">@</span><span class="token command"><span class="token keyword">echo</span> 正在运行的这个批处理：</span>\n<span class="token operator">@</span><span class="token command"><span class="token keyword">echo</span> 完全路径[<span class="token variable">%%0</span>]：<span class="token variable">%0</span></span>\n<span class="token operator">@</span><span class="token command"><span class="token keyword">echo</span> 去掉引号[<span class="token variable">%%~0</span>]：<span class="token variable">%~0</span></span>\n<span class="token operator">@</span><span class="token command"><span class="token keyword">echo</span> 所在分区[<span class="token variable">%%~d0</span>]：<span class="token variable">%~d0</span></span>\n<span class="token operator">@</span><span class="token command"><span class="token keyword">echo</span> 所处路径[<span class="token variable">%%~p0</span>]：<span class="token variable">%~p0</span></span>\n<span class="token operator">@</span><span class="token command"><span class="token keyword">echo</span> 文件名[<span class="token variable">%%~n0</span>]：<span class="token variable">%~n0</span></span>\n<span class="token operator">@</span><span class="token command"><span class="token keyword">echo</span> 扩展名[<span class="token variable">%%~x0</span>]：<span class="token variable">%~x0</span></span>\n<span class="token operator">@</span><span class="token command"><span class="token keyword">echo</span>.</span>\n<span class="token operator">@</span><span class="token command"><span class="token keyword">echo</span> 文件属性：<span class="token variable">%~a0</span></span>\n<span class="token operator">@</span><span class="token command"><span class="token keyword">echo</span> 修改时间：<span class="token variable">%~t0</span></span>\n<span class="token operator">@</span><span class="token command"><span class="token keyword">echo</span> 文件大小：<span class="token variable">%~z0</span></span>\n<span class="token operator">@</span><span class="token command"><span class="token keyword">echo</span>.</span>\n<span class="token operator">@</span><span class="token command"><span class="token keyword">echo</span> 盘符和路径[<span class="token variable">%%~dp0</span>]：<span class="token variable">%~dp0</span></span>\n<span class="token operator">@</span><span class="token command"><span class="token keyword">echo</span> 文件名和扩展名[<span class="token variable">%%~nx0</span>]：<span class="token variable">%~nx0</span></span>\n<span class="token operator">@</span><span class="token command"><span class="token keyword">echo</span> 当前CMD默认目录[<span class="token variable">%%cd%</span>%]：<span class="token variable">%cd%</span></span>\n<span class="token operator">@</span><span class="token command"><span class="token keyword">echo</span>.</span>\n\n<span class="token command"><span class="token keyword">set</span> <span class="token string">&quot;CurrentDirName=%~dp0&quot;</span></span>\n\n<span class="token command"><span class="token keyword">for</span> <span class="token parameter attr-name">/f</span> <span class="token string">&quot;delims=&quot;</span> <span class="token variable">%%i</span> <span class="token keyword">in</span> <span class="token punctuation">(</span><span class="token string">&quot;%CurrentDirName:~0,-1%&quot;</span><span class="token punctuation">)</span> <span class="token keyword">do</span></span> <span class="token punctuation">(</span><span class="token command"><span class="token keyword">echo</span> 目录名： <span class="token variable">%%~ni</span></span><span class="token punctuation">)</span>\n\n<span class="token command"><span class="token keyword">pause</span> &gt;nul</span>\n\n<span class="token command"><span class="token keyword">goto</span> GTCONTINUE</span>\n\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><hr><p>时间</p><div class="language-batch ext-batch line-numbers-mode"><pre class="language-batch"><code><span class="token operator">@</span><span class="token command"><span class="token keyword">echo</span> off</span>\n<span class="token operator">@</span><span class="token command"><span class="token keyword">REM</span> @Author: xianghongai@gmail.com</span>\n\n<span class="token command"><span class="token keyword">set</span> <span class="token variable">varTimeTemp1</span><span class="token operator">=</span><span class="token variable">%time:</span> <span class="token operator">=</span><span class="token number">0</span><span class="token operator">%</span></span>\n<span class="token command"><span class="token keyword">set</span> <span class="token variable">varTimeTemp2</span><span class="token operator">=</span><span class="token variable">%varTimeTemp1::</span><span class="token operator">=</span><span class="token operator">%</span></span>\n<span class="token command"><span class="token keyword">set</span> <span class="token variable">varTime</span><span class="token operator">=</span><span class="token variable">%varTimeTemp2:~0</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token operator">%</span></span>\n<span class="token command"><span class="token keyword">set</span> <span class="token variable">varDate</span><span class="token operator">=</span><span class="token variable">%date:~0</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token variable">%%date:~5</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token variable">%%date:~8</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token variable">%%varTime%</span></span>\n<span class="token operator">@</span><span class="token command"><span class="token keyword">echo</span> 当前日期时间：<span class="token variable">%varDate%</span></span>\n<span class="token comment">rem %a:~[m[,n]]%</span>\n<span class="token operator">@</span><span class="token command"><span class="token keyword">echo</span> <span class="token variable">%varDate:~0</span>,<span class="token number">4</span>%年 <span class="token variable">%varDate:~4</span>,<span class="token number">2</span>%月 <span class="token variable">%varDate:~6</span>,<span class="token number">2</span>%日 <span class="token variable">%varDate:~8</span>,<span class="token number">2</span>%时 <span class="token variable">%varDate:~10</span>,<span class="token number">2</span>%分 <span class="token variable">%varDate:~12%</span>秒</span>\n<span class="token command"><span class="token keyword">pause</span></span>\n\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><hr><p>字符切分</p><div class="language-batch ext-batch line-numbers-mode"><pre class="language-batch"><code><span class="token operator">@</span><span class="token command"><span class="token keyword">echo</span> off</span>\n<span class="token operator">@</span><span class="token command"><span class="token keyword">REM</span> @Author: xianghongai@gmail.com</span>\n\n<span class="token comment">rem tokens=有时表示提取全部。</span>\n<span class="token comment">rem tokens=m表示提取第m列。</span>\n<span class="token comment">rem tokens=m,n表示提取第m列和第n列。</span>\n<span class="token comment">rem tokens=m-n表示提取第m列至第n列。</span>\n<span class="token comment">rem tokens=*表示删除每行前面的空格。忽略行首的所有空格。</span>\n<span class="token comment">rem tokens=m*提取第m列以后的所有字符，星号表示剩余的字符。</span>\n<span class="token comment">rem tokens=m,*提取第m列以后的所有字符，星号表示剩余的字符。</span>\n<span class="token comment">rem delims指明点号、减号、空格为分割符，默认是空格和tab为分割符，delims==及delims=表示不要分割符</span>\n\n<span class="token label property">:GTBegin</span>\n<span class="token command"><span class="token keyword">cls</span></span>\n\n<span class="token command"><span class="token keyword">set</span> <span class="token variable">str</span><span class="token operator">=</span><span class="token string">&quot;123,456,789,0,abc-def,ghi,jkl-mno,pqr,stu,vwx,yz&quot;</span></span>\n\n<span class="token command"><span class="token keyword">for</span> <span class="token parameter attr-name">/f</span> <span class="token string">&quot;delims=&quot;</span> <span class="token variable">%%i</span> <span class="token keyword">in</span> <span class="token punctuation">(</span><span class="token variable">%str%</span><span class="token punctuation">)</span> <span class="token keyword">do</span></span> <span class="token command"><span class="token keyword">echo</span> 字符:<span class="token variable">%%i</span></span>\n<span class="token operator">@</span><span class="token command"><span class="token keyword">echo</span>.</span>\n\n<span class="token operator">@</span><span class="token command"><span class="token keyword">echo</span> tokens=<span class="token number">1</span> delims=-</span>\n<span class="token command"><span class="token keyword">for</span> <span class="token parameter attr-name">/f</span> <span class="token string">&quot;tokens=1 delims=-&quot;</span> <span class="token variable">%%i</span> <span class="token keyword">in</span> <span class="token punctuation">(</span><span class="token variable">%str%</span><span class="token punctuation">)</span> <span class="token keyword">do</span></span> <span class="token command"><span class="token keyword">echo</span> <span class="token variable">%%i</span></span>\n<span class="token operator">@</span><span class="token command"><span class="token keyword">echo</span>.</span>\n\n<span class="token operator">@</span><span class="token command"><span class="token keyword">echo</span> tokens=<span class="token number">1</span>,<span class="token number">6</span> delims=,-</span>\n<span class="token command"><span class="token keyword">for</span> <span class="token parameter attr-name">/f</span> <span class="token string">&quot;tokens=1,6 delims=,-&quot;</span> <span class="token variable">%%i</span> <span class="token keyword">in</span> <span class="token punctuation">(</span><span class="token variable">%str%</span><span class="token punctuation">)</span> <span class="token keyword">do</span></span> <span class="token command"><span class="token keyword">echo</span> <span class="token variable">%%i</span> <span class="token variable">%%j</span></span>\n<span class="token operator">@</span><span class="token command"><span class="token keyword">echo</span>.</span>\n\n<span class="token operator">@</span><span class="token command"><span class="token keyword">echo</span> tokens=<span class="token number">2</span><span class="token number">-6</span> delims=,-</span>\n<span class="token command"><span class="token keyword">for</span> <span class="token parameter attr-name">/f</span> <span class="token string">&quot;tokens=3-6 delims=,-&quot;</span> <span class="token variable">%%i</span> <span class="token keyword">in</span> <span class="token punctuation">(</span><span class="token variable">%str%</span><span class="token punctuation">)</span> <span class="token keyword">do</span></span> <span class="token command"><span class="token keyword">echo</span> <span class="token variable">%%i</span> <span class="token variable">%%j</span> <span class="token variable">%%k</span></span>\n<span class="token operator">@</span><span class="token command"><span class="token keyword">echo</span>.</span>\n\n<span class="token operator">@</span><span class="token command"><span class="token keyword">echo</span> tokens=<span class="token number">6</span>* delims=,-</span>\n<span class="token command"><span class="token keyword">for</span> <span class="token parameter attr-name">/f</span> <span class="token string">&quot;tokens=6* delims=,-&quot;</span> <span class="token variable">%%i</span> <span class="token keyword">in</span> <span class="token punctuation">(</span><span class="token variable">%str%</span><span class="token punctuation">)</span> <span class="token keyword">do</span></span> <span class="token command"><span class="token keyword">echo</span> <span class="token variable">%%i</span> <span class="token variable">%%j</span></span>\n<span class="token operator">@</span><span class="token command"><span class="token keyword">echo</span>.</span>\n\n<span class="token operator">@</span><span class="token command"><span class="token keyword">echo</span> tokens=<span class="token number">6</span>,* delims=,-</span>\n<span class="token command"><span class="token keyword">for</span> <span class="token parameter attr-name">/f</span> <span class="token string">&quot;tokens=6,* delims=,-&quot;</span> <span class="token variable">%%i</span> <span class="token keyword">in</span> <span class="token punctuation">(</span><span class="token variable">%str%</span><span class="token punctuation">)</span> <span class="token keyword">do</span></span> <span class="token command"><span class="token keyword">echo</span> <span class="token variable">%%i</span> <span class="token variable">%%j</span></span>\n<span class="token operator">@</span><span class="token command"><span class="token keyword">echo</span>.</span>\n\n<span class="token command"><span class="token keyword">pause</span>&gt;nul</span>\n<span class="token command"><span class="token keyword">goto</span> GTBegin</span>\n\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br></div></div><hr><p>更新日志：</p><ul><li>2017-05-28</li></ul>',13),p={render:function(s,n){return e}}}}]);